@use '../variables' as *;
@use '../mixins' as *;

.works-hero {
  /* Grille de fond: repeat-x comme le hero work */
  background-image: url('assets/imgs/BgGrille.svg');
  background-repeat: repeat-x;
  background-position: center top;
  background-size: auto;
  padding: 150px 75px; /* top/bottom 72 comme la maquette donnée */
  position: relative; /* pour le pseudo-élément */

  /* Étendre visuellement la grille sous la section sans créer d'espace */
  &::after {
    content: '';
    position: absolute;
    left: 0; right: 0; bottom: -120px; /* dépasse sous la section */
    height: 120px; /* hauteur d'extension */
    background-image: inherit;
    background-repeat: repeat-x;
    background-position: center top;
    background-size: auto;
    pointer-events: none;
    z-index: 0; /* derrière le contenu */
  }

  &__inner {
    width: 100%;
    max-width: 1219px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 63px;
  position: relative;
  z-index: 1; /* au-dessus du ::after */
  }

  &__side {
    display: flex;
    align-items: center;
    &--left { padding-bottom: 72px; }
    &--right { padding-top: 72px; }
  }

  &__figure {
    width: 266px; height: 320px; position: relative; overflow: hidden; border-radius: 30px;
    &--overlay::after {
      content: '';
      position: absolute; inset: 0;
      background: rgba(2, 139, 154, 0.07);
      pointer-events: none;
    }
  }
  &__image { width: 100%; height: 100%; object-fit: cover; display: block; }

  &__content {
    width: 656px; display: inline-flex; flex-direction: column; justify-content: flex-start; align-items: center; gap: 18px;
  }
  &__header { align-self: stretch; display: flex; flex-direction: column; align-items: center; gap: 6px; }
  &__subtitle { align-self: stretch; text-align: center; color: #5C6D6F; font-size: 19.2px; font-family: $font-family-primary; font-weight: 700; text-transform: uppercase; line-height: 20px; letter-spacing: 1.92px; margin: 0; }
  &__title { align-self: stretch; text-align: center; color: #334749; font-size: 47.78px; font-family: $font-family-primary; font-weight: 800; line-height: 57.34px; margin: 0; }
  &__desc { align-self: stretch; text-align: center; color: #5C6D6F; font-size: 19.2px; font-family: $font-family-primary; font-weight: 400; line-height: 28.8px; margin: 0; }
  &__cta { @include cta-button; }

  /* Responsive */
  @media (max-width: 1200px) {
    padding: 48px 48px;
    &__inner { gap: 40px; }
  }
  @media (max-width: 1024px) {
    /* Passer en grille: texte sur la 1ère ligne (2 colonnes), images côte à côte en dessous */
    &__inner {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto;
      grid-template-areas:
        'content content'
        'left right';
      column-gap: 24px;
      row-gap: 24px;
      justify-items: center;
    }
    &__content { width: 100%; grid-area: content; }
    &__side { 
      &--left { grid-area: left; padding: 0; transform: translateY(-12px); }
      &--right { grid-area: right; padding: 0; transform: translateY(12px); }
    }
    &__figure { width: 100%; max-width: 320px; height: auto; aspect-ratio: 266 / 320; }
  }
  @include mobile {
    padding: 32px 16px;
    &__subtitle { font-size: 16px; line-height: 18px; }
    &__title { font-size: 36px; line-height: 44px; }
    &__desc { font-size: 16px; line-height: 24px; }
    &::after { bottom: -100px; height: 100px; }
  }
}
