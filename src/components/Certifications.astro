---
/**
 * Composant: Certifications
 * Section de certifications avec cartes numérotées
 * Compatible TinaCMS via props
 */

export interface CertificationCard {
  image?: string;
  alt?: string;
}

export interface Props {
  title?: string;
  description?: string;
  cards?: CertificationCard[];
}

const {
  title = "Des certifications à l'échelle européenne",
  description = "Notre savoir-faire est reconnu à l'échelle belge et européenne.<br>Nos projets respectent les normes en vigueur (PEB, RGIE…) et s'inscrivent dans une logique de transition énergétique cohérente, mesurable et durable.",
  cards = [{}, {}, {}] // 3 cartes par défaut
} = Astro.props;
---

<section class="certifications-section" id="certifications" aria-labelledby="certifications-title">
  <div class="certifications">
    <div class="certifications__container">
      <header class="certifications__header">
        <div class="certifications__header-content">
          <h2 class="certifications__title" id="certifications-title" set:html={title} />
          <p class="certifications__description" set:html={description} />
        </div>
      </header>

      <div class="certifications__row" role="list">
        {cards.map((card, index) => (
          <article class="certifications__card" role="listitem" aria-label={`Certification ${index + 1}`}>
            <div class="certifications__card-bg" aria-hidden="true"></div>

            <div class="certifications__icon-wrap">
              {card.image ? (
                <img 
                  src={card.image} 
                  alt={card.alt || `Certification ${index + 1}`} 
                  loading="lazy" 
                  class="certifications__icon-img" 
                />
              ) : (
                <span class="certifications__icon" aria-hidden="true"></span>
              )}
            </div>
            <p class="certifications__number">{index + 1}</p>
          </article>
        ))}
      </div>
    </div>
  </div>
</section>

<style lang="scss">
  @use '../assets/scss/astro-components' as *;
  @use '../assets/scss/components/_certifications' as *;
</style>
