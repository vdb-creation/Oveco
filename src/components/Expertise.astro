---
/**
 * Composant: Expertise
 * Section présentant les expertises techniques d'Oveco
 * Compatible TinaCMS via props
 */

export interface ExpertiseCard {
  icon: string;
  alt: string;
  title: string;
  description: string;
}

export interface Props {
  subtitle?: string;
  title?: string;
  description?: string;
  cards?: ExpertiseCard[];
  ctaLabel?: string;
  ctaHref?: string;
}

const {
  subtitle = "Nos expertises",
  title = "Mettre la technique au service de projets humains et durables",
  description = "Chez Oveco, la technique n'est jamais un but en soi, mais un moyen de rendre l'habitat plus autonome, plus confortable et plus durable. Grâce à une expertise de terrain et une veille constante sur les innovations, nous concevons des systèmes sobres, robustes et performants, adaptés à chaque projet.",
  cards = [
    {
      icon: "/uploads/icons/eolienne.png",
      alt: "Icône énergies renouvelables - pompes à chaleur et panneaux solaires",
      title: "Énergies renouvelables",
      description: "Pompes à chaleur, chaudières, panneaux solaires…<br/>Des systèmes performants, bien dimensionnés, pour plus d'autonomie."
    },
    {
      icon: "/uploads/icons/clim.png",
      alt: "Icône confort thermique - systèmes de chauffage et ventilation",
      title: "Confort thermique<br/>& ventilation",
      description: "Chauffage, ventilation, planchers chauffants…<br/>Un confort constant avec une gestion efficace de l'air."
    },
    {
      icon: "/uploads/icons/elec.png",
      alt: "Icône électricité - installation électrique et traitement de l'eau",
      title: "Électricité & traitement de l'eau",
      description: "Électricité, boucles de chaleur, adoucisseurs…<br/>Une gestion durable de vos ressources énergétiques et hydrauliques."
    }
  ],
  ctaLabel = "Découvrir toutes nos expertises",
  ctaHref = "#expertises-details"
} = Astro.props;
---

<section class="expertise-section" id="expertises" aria-labelledby="expertise-title">
  <div class="container">
    <div class="expertise__container">
      <header class="expertise__header">
        <h3 class="expertise__subtitle" aria-label="Section nos expertises">{subtitle}</h3>
        <h2 class="expertise__title" id="expertise-title">{title}</h2>
        <p class="expertise__description" set:html={description} />
      </header>
      
      <div class="expertise__content">
        <div class="expertise__grid" role="list" aria-label="Liste de nos expertises">
          {cards.map((card) => (
            <article class="expertise__card" role="listitem" itemscope itemtype="https://schema.org/Service">
              <img 
                src={card.icon}
                alt={card.alt}
                class="expertise__icon"
                loading="lazy"
                width="168"
                height="168"
              />
              <div class="expertise__card-content">
                <h4 class="expertise__card-title" itemprop="name" set:html={card.title} />
                <p class="expertise__card-description" itemprop="description" set:html={card.description} />
              </div>
            </article>
          ))}
        </div>
        
        <a href={ctaHref} class="expertise__cta" aria-label={`${ctaLabel}`}>
          <span>{ctaLabel}</span>
        </a>
      </div>
    </div>
  </div>
</section>

<style lang="scss">
  @use '../assets/scss/astro-components' as *;
  @use '../assets/scss/components/_expertise' as *;
</style>
