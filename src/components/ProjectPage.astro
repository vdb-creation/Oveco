---
/**
 * ProjectPage - Oveco
 * Page de détail d'un projet
 * 
 * @component
 */

export interface Props {
  title: string;
  description?: string;
  category?: string;
  image?: string;
  backHref?: string;
  backLabel?: string;
}

const {
  title,
  description = "",
  category = "",
  image = "",
  backHref = "/",
  backLabel = "Retour"
} = Astro.props;
---

<section class="project-page">
  <div class="project-page__container">
    <!-- Bouton retour -->
    <nav class="project-page__nav" aria-label="Navigation de retour">
      <a href={backHref} class="project-page__back">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        {backLabel}
      </a>
    </nav>

    <!-- Header du projet -->
    <header class="project-page__header">
      {category && (
        <p class="project-page__category">{category}</p>
      )}
      <h1 class="project-page__title">{title}</h1>
      {description && (
        <p class="project-page__description">{description}</p>
      )}
    </header>

    <!-- Image du projet -->
    {image && (
      <div class="project-page__image-container">
        <img 
          src={image} 
          alt={title}
          class="project-page__image"
          loading="eager"
        />
      </div>
    )}

    <!-- Contenu du projet -->
    <div class="project-page__content">
      <div class="project-page__text">
        <h2>À propos de ce projet</h2>
        <p>Ce projet illustre parfaitement notre approche de l'auto-construction et de la construction durable. Nous avons accompagné nos clients dans la réalisation de leur vision, en combinant expertise technique et respect de l'environnement.</p>
        
        <h3>Caractéristiques techniques</h3>
        <ul>
          <li>Matériaux écologiques et durables</li>
          <li>Isolation passive optimisée</li>
          <li>Système de ventilation naturelle</li>
          <li>Panneaux solaires intégrés</li>
        </ul>

        <h3>Résultats obtenus</h3>
        <p>Grâce à cette approche, nous avons pu réduire significativement la consommation énergétique tout en créant un habitat confortable et respectueux de l'environnement.</p>
      </div>
    </div>

    <!-- CTA -->
    <div class="project-page__cta">
      <h2>Vous avez un projet similaire ?</h2>
      <p>Contactez-nous pour discuter de votre projet d'auto-construction ou de rénovation durable.</p>
      <a href="#contact" class="project-page__cta-button">
        Nous contacter
      </a>
    </div>
  </div>
</section>

<style>
  .project-page {
    min-height: 100vh;
    background: var(--oveco-white);
    padding: clamp(24px, 5vw, 48px) clamp(16px, 4vw, 32px);
  }

  .project-page__container {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: clamp(32px, 6vw, 64px);
  }

  /* Navigation */
  .project-page__nav {
    margin-bottom: 16px;
  }

  .project-page__back {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: var(--oveco-accent);
    text-decoration: none;
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-p);
    font-weight: var(--oveco-weight-medium);
    transition: var(--oveco-transition-fast);
  }

  .project-page__back:hover {
    color: var(--oveco-secondary);
    transform: translateX(-4px);
  }

  /* Header */
  .project-page__header {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
  }

  .project-page__category {
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-p-small);
    font-weight: var(--oveco-weight-medium);
    color: var(--oveco-accent);
    text-transform: uppercase;
    letter-spacing: var(--oveco-spacing-wide);
    margin: 0 0 16px 0;
  }

  .project-page__title {
    font-family: var(--oveco-font-family);
    font-size: clamp(var(--oveco-font-h3), 4vw, var(--oveco-font-h1));
    font-weight: var(--oveco-weight-extrabold);
    line-height: var(--oveco-line-tight);
    color: var(--oveco-secondary);
    margin: 0 0 24px 0;
  }

  .project-page__description {
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-p-large);
    font-weight: var(--oveco-weight-regular);
    line-height: var(--oveco-line-relaxed);
    color: var(--oveco-text);
    margin: 0;
  }

  /* Image */
  .project-page__image-container {
    width: 100%;
    border-radius: var(--oveco-radius-large);
    overflow: hidden;
    box-shadow: var(--oveco-shadow-medium);
  }

  .project-page__image {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
  }

  /* Contenu */
  .project-page__content {
    max-width: 800px;
    margin: 0 auto;
  }

  .project-page__text h2 {
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-h3);
    font-weight: var(--oveco-weight-bold);
    line-height: var(--oveco-line-normal);
    color: var(--oveco-secondary);
    margin: 0 0 16px 0;
  }

  .project-page__text h3 {
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-h4);
    font-weight: var(--oveco-weight-semibold);
    line-height: var(--oveco-line-normal);
    color: var(--oveco-secondary);
    margin: 32px 0 12px 0;
  }

  .project-page__text p {
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-p);
    font-weight: var(--oveco-weight-regular);
    line-height: var(--oveco-line-relaxed);
    color: var(--oveco-text);
    margin: 0 0 16px 0;
  }

  .project-page__text ul {
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-p);
    font-weight: var(--oveco-weight-regular);
    line-height: var(--oveco-line-relaxed);
    color: var(--oveco-text);
    margin: 0 0 16px 0;
    padding-left: 24px;
  }

  .project-page__text li {
    margin-bottom: 8px;
  }

  /* CTA */
  .project-page__cta {
    background: var(--oveco-colored-white);
    padding: clamp(32px, 6vw, 48px);
    border-radius: var(--oveco-radius-large);
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .project-page__cta h2 {
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-h3);
    font-weight: var(--oveco-weight-bold);
    line-height: var(--oveco-line-normal);
    color: var(--oveco-secondary);
    margin: 0 0 16px 0;
  }

  .project-page__cta p {
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-p);
    font-weight: var(--oveco-weight-regular);
    line-height: var(--oveco-line-relaxed);
    color: var(--oveco-text);
    margin: 0 0 24px 0;
  }

  .project-page__cta-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 16px 32px;
    background: var(--oveco-accent);
    color: var(--oveco-white);
    text-decoration: none;
    font-family: var(--oveco-font-family);
    font-size: var(--oveco-font-p);
    font-weight: var(--oveco-weight-semibold);
    border-radius: var(--oveco-radius-button);
    transition: var(--oveco-transition-normal);
    box-shadow: var(--oveco-shadow-light);
  }

  .project-page__cta-button:hover {
    background: var(--oveco-secondary);
    transform: translateY(-2px);
    box-shadow: var(--oveco-shadow-medium);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .project-page {
      padding: 16px;
    }

    .project-page__container {
      gap: 24px;
    }

    .project-page__cta {
      padding: 24px;
    }
  }
</style>
