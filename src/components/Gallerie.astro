---
/**
 * Composant: Gallerie
 * Galerie d'images avec layouts adaptatifs
 * Compatible TinaCMS via props
 */

export interface GalleryItem {
  src: string;
  alt: string;
  mod?: 'a' | 'b' | 'c' | 'd';
}

export interface Props {
  subtitle?: string;
  title?: string;
  gallery?: GalleryItem[];
}

const {
  subtitle = "Galerie",
  title = "Quelques photos du projet",
  gallery = [
    { src: "/uploads/imgs/Charpantier.png", alt: "Charpantier", mod: 'a' },
    { src: "/uploads/imgs/maison-build.png", alt: "Maison en construction", mod: 'b' },
    { src: "/uploads/imgs/plan.png", alt: "Plan du projet", mod: 'c' },
    { src: "/uploads/imgs/cie.png", alt: "Compagnie d'électricité", mod: 'd' }
  ]
} = Astro.props;
---

<section class="gallery" aria-labelledby="gallery-title">
  <div class="container gallery__container">
    <header class="gallery__header" style="text-align:center">
      <p class="gallery__subtitle">{subtitle}</p>
      <h2 class="gallery__title" id="gallery-title">{title}</h2>
    </header>

    <ul class="gallery__grid" role="list">
      {gallery.map((item) => (
        <li class="gallery__item" role="listitem">
          <figure class={`gallery__figure gallery__figure--${item.mod || 'a'}`}>
            <img 
              class={`gallery__image gallery__image--${item.mod || 'a'}`} 
              src={item.src} 
              alt={item.alt} 
              loading="lazy"
            />
          </figure>
        </li>
      ))}
    </ul>
  </div>
</section>

<style lang="scss">
  @use '../assets/scss/astro-components' as *;
  @use '../assets/scss/components/_gallery' as *;
</style>
